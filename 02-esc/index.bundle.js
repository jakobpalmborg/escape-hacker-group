(()=>{"use strict";var t,e,a,n,i={748:(t,e,a)=>{a.d(e,{E:()=>i});let n=[];async function i(){const t=await fetch("https://lernia-sjj-assignments.vercel.app/api/challenges");return(await t.json()).challenges.forEach((t=>{n.push(t)})),n}},10:(t,e,a)=>{a.a(t,(async(t,e)=>{try{var n=a(748),i=a(929);const l=document.querySelector(".challenge-list");function s(t){t.sort((function(t,e){return e.rating-t.rating}));let e=[];e.push(t[0],t[1],t[2]),(0,i.X)(e,l)}s(await(0,n.E)()),document.querySelector(".main-nav-toggle").addEventListener("click",(()=>{document.querySelector(".main-nav").classList.toggle("open")})),document.querySelector("h1").addEventListener("click",(()=>{window.location.href="index.html"})),e()}catch(c){e(c)}}),1)},823:(t,e,a)=>{let n,i,l,s,c,o,d,r,p,m;function u(t){const e=(new Date).toLocaleDateString();o=parseInt(t.target.dataset.id),d=t.target.dataset.minparticipants,r=t.target.dataset.maxparticipants,m=t.target.dataset.title;let a=document.querySelector("body");p=document.createElement("div"),p.className="modal-div",p.innerHTML=`\n\t\t<div class="modalContents">\n        <div class="bookingStep1Content">\n        <form action="">\n        <h1>Book room "${m}" (step 1)</h1>\n        <h2>What date would you like to come?</h2>\n            <label class="modalInputLabels" for="date">Date</label>\n\t\t\t\n            <input id="date" class="input-field" type="date" name="date"\n            min="${e}">\n            <input id="firstButton" type="submit" value="Search available times" class="button primary open-modal-step-2">\n        </form>\n        </div>\n\t\t</div>\n    `,a.appendChild(p),document.querySelector(".open-modal-step-2").addEventListener("click",v),(document.querySelector(".modal-div").style.position="fixed")&&(document.querySelector("body").style.overflow="hidden")}function v(t){t.preventDefault();let e=!1,a=document.querySelector("#date");if(""==a.value){function n(){a.style.outline="none"}a.style.outline="solid 2px red",a.addEventListener("click",n)}""!==a.value&&(e=!0),e&&(c=document.querySelector("#date").value,async function(t,e){const a=await fetch(`https://lernia-sjj-assignments.vercel.app/api/booking/available-times?date=${t}&challenge=${e}`);(await a.json()).slots.forEach((t=>{!function(t){let e=document.createElement("option");e.innerHTML=t,document.querySelector("#time").appendChild(e)}(t)}))}(c,o),function(t){t.preventDefault(),p.innerHTML=`\n\t\t<div class="modalContents">\n        <div class="bookingStep2Content">\n        <form action="">\n        <h1>Book room "${m}" (step 2)</h1>\n            <label class="modalInputLabels" for="name">Name</label>\n\t\t\t\t\t\t<input class="input-field" type="text" id="name" name="name">\n\t\t\t\t\t\t<label class="modalInputLabels" for="e-mail">E-mail</label>\n\t\t\t\t\t\t<input class="input-field" type="email" id="e-mail" name="e-mail">\n\t\t\t\t\t\t<label class="modalInputLabels" for="time">What time?</label>\n\t\t\t\t\t\t<select class="input-field" name="time" id="time">\n            </select>\n\t\t\t\t\t\t<label class="modalInputLabels" for="participants">How many participants?</label>\n\t\t\t\t\t\t<select class="input-field" name="participants" id="participants">\n            </select>\n            <input id="secondButton" class="button primary open-modal-step-3" type="submit" value="Submit booking">\n        </form>\n        </div>\n\t\t</div>\n    `,function(t,e){let a=e-t;for(let e=0;e<=a;e++)n(),t++;function n(){let e=document.createElement("option");e.innerHTML=`${t} participants`,document.querySelector("#participants").appendChild(e)}}(d,r),document.querySelector(".open-modal-step-3").addEventListener("click",h)}(t))}function h(t){t.preventDefault();let e=!1,a=document.querySelector("#name"),d=document.querySelector("#e-mail");if(""==a.value){function r(){a.style.outline="none"}a.style.outline="solid 2px red",a.addEventListener("click",r)}else if(""==d.value){function m(){d.style.outline="none"}d.style.outline="solid 2px red",d.addEventListener("click",m)}else e=!0;e&&(n=document.querySelector("#name").value,i=document.querySelector("#e-mail").value,l=document.querySelector("#time").value,s=parseInt(document.querySelector("#participants").value),async function(){const t=await fetch("https://lernia-sjj-assignments.vercel.app/api/booking/reservations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({challenge:o,name:n,email:i,date:c,time:l,participants:s})});await t.json()}(),function(t){t.preventDefault(),p.innerHTML='\n\t<div class="modalContents">\n\t<div class="bookingStep3Content">\n    <h1>Thank you!</h1>\n    <a href="challenges.html">Back to challenges</a>\n    </div>\n\t</div>\n'}(t))}a.d(e,{h:()=>u})},929:(t,e,a)=>{a.d(e,{X:()=>i});var n=a(823);function i(t,e){if(e.innerHTML="",0!=t.length)for(let a=0;a<t.length;a++){const{id:i,type:l,rating:s,title:c,description:o,minParticipants:d,maxParticipants:r,image:p}=t[a];let m=document.createElement("li");m.classList.add("challenge-item");let u=document.createElement("img");u.classList.add("challenge-image"),u.src=p,m.append(u);let v=document.createElement("img");v.classList.add("room-image"),v.src="onsite"==l?"static/iconOnsite.svg":"static/iconOnline.svg",m.append(v);let h=document.createElement("h3");h.classList.add("challenge-title"),h.textContent=c,m.appendChild(h);let f=document.createElement("ul");f.classList.add("rating");let y=document.createElement("li");y.classList.add("rating-star"),f.appendChild(y);let b=document.createElement("li");b.classList.add("rating-star"),f.appendChild(b);let g=document.createElement("li");g.classList.add("rating-star"),f.appendChild(g);let L=document.createElement("li");L.classList.add("rating-star"),f.appendChild(L);let S=document.createElement("li");S.classList.add("rating-star"),f.appendChild(S),s<1?y.classList.add("rating-star"):1==s||s<2?y.classList.add("active"):2==s||s<3?(y.classList.add("active"),b.classList.add("active")):3==s||s<4?(y.classList.add("active"),b.classList.add("active"),g.classList.add("active")):4==s||s<5?(y.classList.add("active"),b.classList.add("active"),g.classList.add("active"),L.classList.add("active")):(y.classList.add("active"),b.classList.add("active"),g.classList.add("active"),L.classList.add("active"),S.classList.add("active")),m.appendChild(f);let E=document.createElement("small");E.classList.add("challenge-meta"),E.innerHTML=`${d} - ${r} participants`,m.appendChild(E);let k=document.createElement("p");k.classList.add("challenge-description"),k.textContent=o,m.appendChild(k);let w=document.createElement("button");w.classList.add("btnBook","button","primary"),w.setAttribute("data-id",i),w.setAttribute("data-minparticipants",d),w.setAttribute("data-maxparticipants",r),w.setAttribute("data-title",c),w.textContent="onsite"==l?"Book this room":"Take challenge online",m.appendChild(w),w.addEventListener("click",n.h),e.appendChild(m)}else e.innerHTML="<p class='filter-error'>No matching challenges.</p>"}}},l={};function s(t){var e=l[t];if(void 0!==e)return e.exports;var a=l[t]={exports:{}};return i[t](a,a.exports,s),a.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=t=>{t&&!t.d&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},s.a=(i,l,s)=>{var c;s&&((c=[]).d=1);var o,d,r,p=new Set,m=i.exports,u=new Promise(((t,e)=>{r=e,d=t}));u[e]=m,u[t]=t=>(c&&t(c),p.forEach(t),u.catch((t=>{}))),i.exports=u,l((i=>{var l;o=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[t])return i;if(i.then){var l=[];l.d=0,i.then((t=>{s[e]=t,n(l)}),(t=>{s[a]=t,n(l)}));var s={};return s[t]=t=>t(l),s}}var c={};return c[t]=t=>{},c[e]=i,c})))(i);var s=()=>o.map((t=>{if(t[a])throw t[a];return t[e]})),d=new Promise((e=>{(l=()=>e(s)).r=0;var a=t=>t!==c&&!p.has(t)&&(p.add(t),t&&!t.d&&(l.r++,t.push(l)));o.map((e=>e[t](a)))}));return l.r?d:s()}),(t=>(t?r(u[a]=t):d(m),n(c)))),c&&(c.d=0)},s.d=(t,e)=>{for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s(10)})();