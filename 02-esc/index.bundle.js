(()=>{"use strict";var e,t,a,n,i={748:(e,t,a)=>{a.d(t,{E:()=>i});let n=[];async function i(){const e=await fetch("https://lernia-sjj-assignments.vercel.app/api/challenges");return(await e.json()).challenges.forEach((e=>{n.push(e)})),n}},10:(e,t,a)=>{a.a(e,(async(e,t)=>{try{var n=a(748),i=a(929);const l=document.querySelector(".challenge-list");function s(e){e.sort((function(e,t){return t.rating-e.rating}));let t=[];t.push(e[0],e[1],e[2]),(0,i.X)(t,l)}s(await(0,n.E)()),document.querySelector(".main-nav-toggle").addEventListener("click",(()=>{document.querySelector(".main-nav").classList.toggle("open")})),document.querySelector("h1").addEventListener("click",(()=>{window.location.href="index.html"})),t()}catch(c){t(c)}}),1)},823:(e,t,a)=>{let n,i,l,s,c,o,r,d,p,m;function u(e){const t=(new Date).toLocaleDateString();o=parseInt(e.target.dataset.id),r=e.target.dataset.minparticipants,d=e.target.dataset.maxparticipants,m=e.target.dataset.title;let a=document.querySelector("body");p=document.createElement("div"),p.className="modal-div",p.innerHTML=`\n\t\t<div class="modalContents">\n        <div class="bookingStep1Content">\n        <h1>Book room "${m}" (step 1)</h1>\n        <h2>What date would you like to come?</h2>\n        <form action="">\n            <label class="modalInputLabels" for="date">Date</label>\n\t\t\t<br>\n            <input id="date" class="input-field" type="date" name="date"\n            min="${t}">\n            <input id="firstButton" type="submit" value="Search available times" class="button primary open-modal-step-2">\n        </form>\n        </div>\n\t\t</div>\n    `,a.appendChild(p),document.querySelector(".open-modal-step-2").addEventListener("click",v),(document.querySelector(".modal-div").style.position="fixed")&&(document.querySelector("body").style.overflow="hidden")}function v(e){e.preventDefault();let t=!1,a=document.querySelector("#date");if(""==a.value){function n(){a.style.outline="none"}a.style.outline="solid 2px red",a.addEventListener("click",n)}""!==a.value&&(t=!0),t&&(c=document.querySelector("#date").value,async function(e,t){const a=await fetch(`https://lernia-sjj-assignments.vercel.app/api/booking/available-times?date=${e}&challenge=${t}`);(await a.json()).slots.forEach((e=>{!function(e){let t=document.createElement("option");t.innerHTML=e,document.querySelector("#time").appendChild(t)}(e)}))}(c,o),function(e){e.preventDefault(),p.innerHTML=`\n\t\t<div class="modalContents">\n        <div class="bookingStep2Content">\n        <h1>Book room "${m}" (step 2)</h1>\n        <form action="">\n            <label class="modalInputLabels" for="name">Name</label>\n\t\t\t<br>\n            <input class="input-field" type="text" id="name" name="name">\n\t\t\t<br>\n            <label class="modalInputLabels" for="e-mail">E-mail</label>\n\t\t\t<br>\n            <input class="input-field" type="email" id="e-mail" name="e-mail">\n\t\t\t<br>\n            <label class="modalInputLabels" for="time">What time?</label>\n\t\t\t<br>\n            <select class="input-field" name="time" id="time">\n            </select>\n\t\t\t<br>\n            <label class="modalInputLabels" for="participants">How many participants?</label>\n\t\t\t<br>\n            <select class="input-field" name="participants" id="participants">\n            </select>\n            <input id="secondButton" class="button primary open-modal-step-3" type="submit" value="Submit booking">\n        </form>\n        </div>\n\t\t</div>\n    `,function(e,t){let a=t-e;for(let t=0;t<=a;t++)n(),e++;function n(){let t=document.createElement("option");t.innerHTML=`${e} participants`,document.querySelector("#participants").appendChild(t)}}(r,d),document.querySelector(".open-modal-step-3").addEventListener("click",h)}(e))}function h(e){e.preventDefault();let t=!1,a=document.querySelector("#name"),r=document.querySelector("#e-mail");if(""==a.value){function d(){a.style.outline="none"}a.style.outline="solid 2px red",a.addEventListener("click",d)}else if(""==r.value){function m(){r.style.outline="none"}r.style.outline="solid 2px red",r.addEventListener("click",m)}else t=!0;t&&(n=document.querySelector("#name").value,i=document.querySelector("#e-mail").value,l=document.querySelector("#time").value,s=parseInt(document.querySelector("#participants").value),async function(){const e=await fetch("https://lernia-sjj-assignments.vercel.app/api/booking/reservations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({challenge:o,name:n,email:i,date:c,time:l,participants:s})});await e.json()}(),function(e){e.preventDefault(),p.innerHTML='\n\t<div class="modalContents">\n\t<div class="bookingStep3Content">\n    <h1>Thank you!</h1>\n    <a href="challenges.html">Back to challenges</a>\n    </div>\n\t</div>\n'}(e))}a.d(t,{h:()=>u})},929:(e,t,a)=>{a.d(t,{X:()=>i});var n=a(823);function i(e,t){if(t.innerHTML="",0!=e.length)for(let a=0;a<e.length;a++){const{id:i,type:l,rating:s,title:c,description:o,minParticipants:r,maxParticipants:d,image:p}=e[a];let m=document.createElement("li");m.classList.add("challenge-item");let u=document.createElement("img");u.classList.add("challenge-image"),u.src=p,m.append(u);let v=document.createElement("img");v.classList.add("room-image"),v.src="onsite"==l?"static/iconOnsite.svg":"static/iconOnline.svg",m.append(v);let h=document.createElement("h3");h.classList.add("challenge-title"),h.textContent=c,m.appendChild(h);let f=document.createElement("ul");f.classList.add("rating");let b=document.createElement("li");b.classList.add("rating-star"),f.appendChild(b);let y=document.createElement("li");y.classList.add("rating-star"),f.appendChild(y);let g=document.createElement("li");g.classList.add("rating-star"),f.appendChild(g);let L=document.createElement("li");L.classList.add("rating-star"),f.appendChild(L);let S=document.createElement("li");S.classList.add("rating-star"),f.appendChild(S),s<1?b.classList.add("rating-star"):1==s||s<2?b.classList.add("active"):2==s||s<3?(b.classList.add("active"),y.classList.add("active")):3==s||s<4?(b.classList.add("active"),y.classList.add("active"),g.classList.add("active")):4==s||s<5?(b.classList.add("active"),y.classList.add("active"),g.classList.add("active"),L.classList.add("active")):(b.classList.add("active"),y.classList.add("active"),g.classList.add("active"),L.classList.add("active"),S.classList.add("active")),m.appendChild(f);let E=document.createElement("small");E.classList.add("challenge-meta"),E.innerHTML=`${r} - ${d} participants`,m.appendChild(E);let k=document.createElement("p");k.classList.add("challenge-description"),k.textContent=o,m.appendChild(k);let w=document.createElement("button");w.classList.add("btnBook","button","primary"),w.setAttribute("data-id",i),w.setAttribute("data-minparticipants",r),w.setAttribute("data-maxparticipants",d),w.setAttribute("data-title",c),w.textContent="onsite"==l?"Book this room":"Take challenge online",m.appendChild(w),w.addEventListener("click",n.h),t.appendChild(m)}else t.innerHTML="<p class='filter-error'>No matching challenges.</p>"}}},l={};function s(e){var t=l[e];if(void 0!==t)return t.exports;var a=l[e]={exports:{}};return i[e](a,a.exports,s),a.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},s.a=(i,l,s)=>{var c;s&&((c=[]).d=1);var o,r,d,p=new Set,m=i.exports,u=new Promise(((e,t)=>{d=t,r=e}));u[t]=m,u[e]=e=>(c&&e(c),p.forEach(e),u.catch((e=>{}))),i.exports=u,l((i=>{var l;o=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[e])return i;if(i.then){var l=[];l.d=0,i.then((e=>{s[t]=e,n(l)}),(e=>{s[a]=e,n(l)}));var s={};return s[e]=e=>e(l),s}}var c={};return c[e]=e=>{},c[t]=i,c})))(i);var s=()=>o.map((e=>{if(e[a])throw e[a];return e[t]})),r=new Promise((t=>{(l=()=>t(s)).r=0;var a=e=>e!==c&&!p.has(e)&&(p.add(e),e&&!e.d&&(l.r++,e.push(l)));o.map((t=>t[e](a)))}));return l.r?r:s()}),(e=>(e?d(u[a]=e):r(m),n(c)))),c&&(c.d=0)},s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s(10)})();